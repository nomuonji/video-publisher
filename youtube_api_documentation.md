### YouTube APIサービス利用に関するドキュメント

**アプリケーション名:** Video Publisher

**作成日:** 2025年10月10日

---

#### 1. アプリケーションの概要

**1.1 目的**
`Video Publisher`は、私自身が個人的に利用するために開発したツールです。私が運営する複数のソーシャルメディアプラットフォーム（YouTube, Instagram, TikTok）へのビデオコンテンツ公開を効率化することを目的としています。

このツールにより、各プラットフォームの管理画面を個別に開いて同じ内容を何度も入力する手間が省かれ、私個人のコンテンツ制作ワークフローが大幅に改善されます。

**1.2 対象ユーザー**
*   開発者自身（私個人）

**1.3 アプリケーションのアクセス方法**
本ツールは開発者本人（私）のみが使用する個人的なツールです。一般公開はされておらず、ローカル環境またはプライベートなサーバー上で稼働しており、第三者が利用することは一切ありません。

---

#### 2. YouTube APIの統合と利用方法

**2.1 認証（Authentication）**
本アプリケーションは、私のYouTubeチャンネルへのビデオアップロードのために **OAuth 2.0** を利用しています。

1.  私自身がアプリケーションの管理画面からYouTubeアカウントとの連携操作を行います。
2.  Googleの認証画面でログインし、データアクセスを許可します。
3.  アプリケーションは取得したOAuth 2.0のトークンを安全に保管し、APIリクエスト時に利用します。
4.  リクエストするスコープは `https://www.googleapis.com/auth/youtube.upload` のみです。これにより、アプリケーションは私のチャンネルにビデオをアップロードする権限のみを得ます。

この認証フローは `api/auth/callback.ts` および `api/auth/start.ts` に実装されています。

**2.2 利用するAPI機能とエンドポイント**
本アプリケーションが利用するYouTube Data API v3の機能は、ビデオのアップロードに限定されます。

*   **`youtube.videos.insert`**:
    *   **目的**: 私のYouTubeチャンネルにビデオをアップロードするために使用します。
    *   **利用プロセス**:
        1.  私がアプリケーションのフォームにビデオのタイトル、説明、タグ、公開ステータスを入力します。
        2.  アップロードするビデオファイルを選択します。
        3.  「公開」ボタンを押すと、サーバーサイドの `scripts/post-video.ts` が `youtube.videos.insert` エンドポイントを呼び出し、ビデオをアップロードします。

**2.3 YouTubeから取得・表示するデータ**
本アプリケーションは、`youtube.videos.insert` APIのレスポンスとして返される以下の情報のみを取得し、私自身に表示します。

*   **ビデオID (`videoId`)**: アップロードが成功したビデオの一意のID。
*   **アップロードステータス**: 成功か失敗かを示す情報。

アップロード成功後、アプリケーションは「YouTubeへの投稿が完了しました」というメッセージと共に、生成されたYouTubeビデオへのリンクを表示します。この機能は `components/PostConfirmationModal.tsx` コンポーネントで実現されています。

---

#### 3. APIクライアントのスクリーンショット（詳細な説明）

本APIクライアントは私個人しかアクセスできないため、UIのスクリーンショットの代わりに各機能の詳細な説明を記載します。

**画面1: ビデオ詳細入力画面 (`components/VideoPostDetailsEditor.tsx`)**
*   **説明**: 投稿するビデオの情報を入力する画面です。
*   **UI要素**: タイトル、説明、タグの入力フィールド、公開ステータス（「公開」「限定公開」「非公開」）のドロップダウンメニュー、そして投稿先プラットフォーム（YouTubeなど）のチェックボックスがあります。

**画面2: 投稿後の確認モーダル (`components/PostConfirmationModal.tsx`)**
*   **説明**: 「公開」ボタンを押した後に表示される結果通知画面です。
*   **UI要素**: 「投稿結果」として、YouTubeへの投稿が成功したことと、投稿されたビデオへのリンクが表示されます。

---

#### 4. 割り当て量増加の正当性

`youtube.videos.insert` API呼び出しは、1回あたり**1600ユニット**という非常に高いコストを消費します。

このアプリケーションは私個人のみが利用しますが、私のビデオ制作ワークフローにおいて、割り当て量の増加が不可欠です。主な理由は以下の通りです。

1.  **複数チャンネルの運営**: 私は趣味やトピックに応じて複数の個人YouTubeチャンネル（例: ゲーム実況、プログラミング解説、Vlogなど）を運営しています。このツールを使い、各チャンネルへ効率的にビデオを投稿しています。
2.  **コンテンツのバックアップ**: 他のプラットフォーム（TikTok, Instagram）で作成したショートビデオなどを、記録保管目的でYouTubeに「非公開」または「限定公開」としてバックアップするフローを構築しています。これにより、コンテンツ資産を一元的に管理しています。

例えば、3つのチャンネルにそれぞれ1本ずつビデオを投稿し、さらに他のプラットフォームから2本のビデオをバックアップするだけで、合計5本のアップロードとなり、消費ユニットは `1600 * 5 = 8000` となります。テストや失敗による再アップロードも考慮すると、1日のデフォルト割り当て量10,000ユニットでは、個人の利用であっても活動が大きく制限されてしまいます。

このため、私のコンテンツ制作活動を円滑に継続するために、API割りatte量の増加を申請いたします。

---
